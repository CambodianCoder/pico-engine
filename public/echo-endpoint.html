<!DOCTYPE HTML>
<html>
<head>
<title>Echo Endpoint</title>
<meta charset="UTF-8">
<style type="text/css">
.hidden { display: none; }
div { border: 1px solid silver; }
</style>
<script src="js/jquery-3.1.0.min.js" type="text/javascript"></script>
<script type="text/javascript">
var url;
var directives;
$(document).ready(function(){
  $("#hello-world").click(function(){
    var eci = $("#eci").val();
    url = "sky/event/"+eci+"/hello-name/echo/hello";
    $.getJSON(url,function(d){
      d.directives.forEach(function(dir){
        $("#say").append(dir.options.something).append($("<br>"));
      });
      $(".hidden").removeClass("hidden");
    });
  });
  $("#echo-message").click(function(ev){
    ev.preventDefault();
    var eci = $("#eci").val();
    var m = $("#input").val();
    url = "sky/event/"+eci+"/echo-message/echo/message?input="+m;
    $.getJSON(url,function(d){
      d.directives.forEach(function(dir){
        $("#say").append(dir.options.something).append($("<br>"));
      });
      $(".hidden").removeClass("hidden");
    });
  });
  $("#clear").click(function(){
    $("#say").text("");
    $(this).addClass("hidden");
    $("#heading").addClass("hidden");
    $("#say").addClass("hidden");
  });
});
</script>
</head>
<body>
<input id="eci" placeholder="eci" size="25">
<br>
<button id="hello-world">Hello World</button>
<br>
<form>
<input id="input" name="input" placeholder="message" size="40">
<button id="echo-message">Echo Message</button>
</form>
<p id="heading" class="hidden">Response(s)</p>
<div id="say" class="hidden"></div>
<button id="clear" class="hidden">Clear</button>
</body>
</html>
